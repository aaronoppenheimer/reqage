<!DOCTYPE html>
<html>
<head>
    {% load staticfiles %}

    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properities -->
    <title>trainreq!</title>

    <link rel="stylesheet" type="text/css" href="{% static 'trainreq/semantic/semantic.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'trainreq/trainreq.css' %}">

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"></script>
    <script src="{% static 'reqage/semantic/semantic.js'%}"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular-route.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular-cookies.js"></script>
</head>

<body>
{% verbatim %}
<div ng-app="myApp" ng-controller="lexCtrl">

<div class="ui grid">
    <div class="two wide column"></div>
    <div class="twelve wide column" id="content">
        <h2>{{ lex.content }}</h2>
        ID: {{ lex.pk }}, Type: {{ lex.lextype }}<br>
        Parent: <a href='#' ng-click='change_lex(lex.parent_info.id)'>{{ lex.parent_info.content }}</a><br>
        Created by: {{lex.created_by}}
        <div class="ui segment">
            <div class="ui top attached label">Contents:</div>
            <div class="ui list">
                <div class="item" ng-repeat="l in lex.children_info">
                    <a ng-href='#here' ng-click='change_lex(l.id)' >{{ l.content }}</a>
                </div> <!-- list item -->
            </div> <!-- ui list -->
            <div class="ui accordion">
                <div class="title">
                    <i class="dropdown icon"></i>
                    Add...
                </div>
                <div class="content">
                    <form ng-controller="addLexCtrl as form"
                          name="myForm" 
                          ng-submit="form.submit(myForm.$valid, data)">
                        <div class="ui labeled input">
                            <div class="ui label">type:</div>
                            <input type="text"
                                   name="type"
                                   minlength="1"
                                   maxlength="15"
                                   ng-model="data.lextype"
                                   required />
                        </div> <!-- labeled input -->
                        <div class="ui labeled input">
                            <div class="ui label">content:</div>
                            <input type="text"
                                   name="content"
                                   minlength="1"
                                   maxlength="500"
                                   ng-model="data.content"
                                   required />
                        </div> <!-- labeled input -->
                        <input type="submit" value="Submit" class="ui primary button">                        
                    </form>
                </div>
            </div>
        </div> <!-- segment -->
    </div> <!-- column -->
    <div class="two wide column"></div>
</div>  
        
</div>

{% endverbatim %}
<script src="{% static 'trainreq/js/trainreqApp.js' %}"></script>
<script src="{% static 'trainreq/js/lexCtrl.js' %}"></script>
<script src="{% static 'trainreq/js/addLexCtrl.js' %}"></script>
<script>
    $('.ui.accordion').accordion();
</script>
</body>
</html>